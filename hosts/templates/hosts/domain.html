{% extends "base.html" %}
{# kate: space-indent on; indent-width 2; replace-tabs on; hl Django HTML Template; #}
{% load display_extras %}
{% load monitoring_extras %}
{% block title %}{{ domain }} &mdash; Fluxmon{% endblock %}
{% block content %}
<ol class="breadcrumb">
  <li><a href="{% url 'hosts.views.domains' %}">Hosts</a></li>
  <li class="active">{{ domain }}</li>
</ol>
<div class="btn-group" style="float: right">
  <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
    <span class="caret"></span>
  </button>
</div>
<dl class="dl-horizontal">
  <dt>Domain:</dt>
  <dd>{{ domain }}</dd>
</dl>
{% if aggregates %}
<table class="table table-hover">
  <thead>
    <tr>
      <th>Variable</th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
  {% for variable in aggregates %}
    <tr targetlink="{% url 'monitoring.views.render_aggregate_page' domain.id variable.sensor.name variable.name %}" class="checktr">
      <td>{{ variable|display }}</td>
      <td><a href="{% url 'monitoring.views.render_aggregate_page' domain.id variable.sensor.name variable.name %}" title="View details" style="text-decoration: none">â†’</a></td>
    </tr>
  {% endfor %}
  </tbody>
</table>
<script type="text/javascript">
$(".checktr").click(function(ev){
  ev.preventDefault();
  ev.stopPropagation();
  if(ev.ctrlKey){
    window.open(this.attributes.targetlink.value);
  }
  else{
    window.location = this.attributes.targetlink.value;
  }
});
</script>
{% else %}
<p>No checks found.</p>
{% endif %}
{% endblock %}
