{% extends "base.html" %}
{% load display_extras %}
{# kate: space-indent on; indent-width 2; replace-tabs on; hl Django HTML Template; #}
{% block title %}{{ variable|display }} &mdash; {% for checkparam in check.checkparameter_set.all %}{{ checkparam.parameter|display }}: {{ checkparam.value }} {% endfor %} &mdash; {{ check.target_host|display:"fqdn" }} &mdash; Fluxmon{% endblock %}
{% block content %}
<div>
  <ol class="breadcrumb">
    <li class="hidden-xs"><a href="{% url 'hosts.views.domains' %}">Hosts</a></li>
    <li class="visible-xs-block visible-sm-inline visible-md-inline visible-lg-inline">
      <a href="{% url 'hosts.views.host' check.target_host.fqdn %}">{{ check.target_host|display:"fqdn" }}</a>
      {% if check.target_host != check.exec_host %}(as seen by <a href="{% url 'hosts.views.host' check.exec_host.fqdn %}">{{ check.exec_host|display:"fqdn" }}</a>){% endif %}
    </li>
    <li class="visible-xs-block visible-sm-inline visible-md-inline visible-lg-inline">
      <a href="{% url 'monitoring.views.check_details' check.uuid %}">{{ check|display:"uuid" }}</a>
    </li>
    <li class="hidden-xs active">{{ variable|display }}</li>
  </ol>
</div>
<div class="hidden-xs">
  {% include "monitoring/checkinfo.inc.html" %}
</div>
<h3>{{ variable|display }}</h3>
<div
    ng-controller="GraphCtrl" ng-init="set_end({{ check.rrd.last_check }})"
    class="container col-xs-12 col-sm-12 col-md-12 col-lg-12 no-padding">
  <div id="profiles">
    <a ng-repeat="profile in profiles"
       class="btn" ng-class="{
         'btn-primary': profile == active_profile,
         'btn-default': profile != active_profile,
         'hidden-xs':   !profile.tiny
         }"
       ng-click="set_active_profile(profile)">{[ profile.title ]}</a>
    <div class="visible-sm-inline visible-md-inline visible-lg-inline" >
      <label><input type="checkbox" ng-model="prediction" /> Show prediction</label>
    </div>
    <br />
  </div>
  <div>
    <zoomable zoom-to="zoomTo({start: start, end: end})" start="{[ start ]}" end="{[ end ]}"
      class="visible-md-block visible-lg-block" alt="graph"
      img-src="{% url 'monitoring.views.render_check' check.uuid variable.name %}?width=700&amp;start={[ start ]}&amp;end={[ end ]}&amp;prediction={[ prediction ]}"></zoomable>
    <img
      class="visible-sm-block" alt="graph"
      ng-src="{% url 'monitoring.views.render_check' check.uuid variable.name %}?width=410&amp;start={[ start ]}&amp;end={[ end ]}&amp;prediction={[ prediction ]}" />
    <img
      class="visible-xs-block" alt="graph"
      ng-src="{% url 'monitoring.views.render_check' check.uuid variable.name %}?width=220&amp;start={[ start ]}&amp;end={[ end ]}&amp;prediction={[ prediction ]}" />
    <div class="alert alert-info" ng-show="new_data_available">
      New data is available, but not visible. Choose a profile to view it.
    </div>
  </div>
  <div class="visible-xs-block" >
    <label><input type="checkbox" ng-model="prediction" /> Show prediction</label>
  </div>
</div>
{% endblock %}
